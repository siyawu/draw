<mxfile host="app.diagrams.net" modified="2023-09-28T09:00:05.036Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36 Edg/117.0.2045.41" etag="P601Dto_C0JGYrpL1uvn" version="21.3.7" type="github">
  <diagram id="pxkPvl0Xrv9N_y3EMczL" name="第 2 页">
    <mxGraphModel dx="815" dy="1603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="cFFpnk-g19DoDnK3nfvg-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="cFFpnk-g19DoDnK3nfvg-1" target="cFFpnk-g19DoDnK3nfvg-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-1" value="采集数据&lt;br&gt;s/" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="-870" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="cFFpnk-g19DoDnK3nfvg-2" target="cFFpnk-g19DoDnK3nfvg-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-2" value="加入报警计算队列" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="-760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="cFFpnk-g19DoDnK3nfvg-4" target="cFFpnk-g19DoDnK3nfvg-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-4" value="遍历 报警分组" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="-660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="cFFpnk-g19DoDnK3nfvg-6" target="cFFpnk-g19DoDnK3nfvg-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-6" value="遍历 模型参数" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="-570" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="cFFpnk-g19DoDnK3nfvg-8" target="cFFpnk-g19DoDnK3nfvg-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-8" value="遍历 报警类型&lt;br&gt;（&lt;font style=&quot;font-size: 8px;&quot;&gt;绝对值、相对值、SPC等&lt;/font&gt;）" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="-480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="cFFpnk-g19DoDnK3nfvg-10" target="cFFpnk-g19DoDnK3nfvg-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="cFFpnk-g19DoDnK3nfvg-10" target="cFFpnk-g19DoDnK3nfvg-15">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="-340" />
              <mxPoint x="420" y="-340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-10" value="卡控" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="310" y="-380" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-12" value="恢复历史数据&lt;br&gt;更新设备状态" style="whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="290" y="-260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-14" value="&lt;font color=&quot;#80ff00&quot;&gt;&lt;b&gt;正常&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="340" y="-300" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-15" value="写入告警记录&lt;br&gt;触发email等action&lt;br&gt;更新设备状态" style="whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="450" y="-370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-17" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;异常&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="388" y="-370" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-18" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: rgb(204, 229, 255);&quot;&gt;现状 主要耗时分布&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: rgb(204, 229, 255);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: rgb(204, 229, 255);&quot;&gt;1、action触发，email等较耗时&lt;br&gt;&lt;br&gt;2、频繁更新SQL&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; insert、update语句较多&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="290" y="-100" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cFFpnk-g19DoDnK3nfvg-21" value="优化&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1、email 触发加开关&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;只有开启了email功能才会触发email&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2、按需更新&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;更新设备的报警状态时，按需更新，如果状态没有发生变化则不执行更新操作&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;3、优化报警模型的缓存结构&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;当前从 报警分组-》模型参数-》报警类型，嵌套循环&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 优化模型参数报警结构，根据设备可以直接获取到需要计算的报警类型列表。&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="280" y="90" width="500" height="120" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
